---
title: 'Integrating SSAI with Brightcove Web & Smart TV SDK'
description: This document provides detailed instructions on integrating SSAI (Server-Side Ad Insertion) with the Brightcove Web & Smart TV SDK. 
parent: Code Samples
grandparent: Web & Smart TV SDK
---

<article class="bcls-article">
  <h1>{{ page.title }}</h1>
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="overview">Overview</h2> 
<p>Server-Side Ad Insertion (SSAI) allows you to insert ads into your video streams on the server side, providing a seamless ad experience for viewers. This guide will walk you through the process of implementing SSAI using it's API.</p>
</section> 
<section class="bcls-section">
    <h2 id="prerequisites">Prerequisites</h2> 
<ul>
    <li>
        <p>A Brightcove account with access to the Video Cloud.</p>
    </li>
    <li>
        <p>The Brightcove Web & Smart TV SDK installed in your project.</p>
    </li>
    <li>
        <p>Access to the Google IMA SDK resources and an Ad Manager account.</p>
    </li>
</ul>
</section>
<section class="bcls-section">
    <h2 id="integration">Integration</h2> 
    <ol class="bcls-tasklist">
      <li><p>Import Required Modules</p>
        <pre class="line-numbers"><code class="language-TS" translate="No">import initSsaiPlugin from '@brightcove/player-core/ssai';
 import '@brightcove/player-core/ssai/styles';
 import BaseVideoJsPluginIntegration from '@adapters/videojs/integrations/base/VideoJsPluginIntegration';
 import SsaiClickThroughEvent from '@events/integrationEvents';
 import { SsaiConfiguration } from '@types/configuration.declarations';
 import type { VideoJsPlayer } from '@types/videojs.declarations';
 import type { VideoJsServiceDependencies } from '@adapters/videojs/base/VideoJsService';
</code></pre></li>
      <li><p>Define the SSAI Integration Class</p>
        <pre class="line-numbers"><code class="language-TS" translate="No">export default class SsaiIntegrationImpl
 extends BaseVideoJsPluginIntegration<VideoJsPlayer, SsaiPlugin, SsaiConfiguration>
 implements SsaiIntegration {
   public constructor(dependencies: VideoJsServiceDependencies<SsaiConfiguration>) {
     super(dependencies);
     initSsaiPlugin(this.videoJs_);
   }
 
   // Life Cycle Hooks
   protected handlePlayerAttach_(player: VideoJsPlayer): void {
     const plugin = player.ssai(this.configuration);
     player.on('bcov-ssai-click-through', this.handleSsaiClickThroughEvent_);
     this.pluginProvider_.updateValue(plugin);
   }
 
   protected handlePlayerDetach_(player: VideoJsPlayer): void {
     player.off('bcov-ssai-click-through', this.handleSsaiClickThroughEvent_);
     this.pluginProvider_.updateValue(null);
   }
 
   protected handleUpdateConfiguration_(configuration: SsaiConfiguration): void {
     return this.pluginProvider_.updateConfig('updateConfiguration', configuration, { silent: true });
   }
 
   protected handleDispose_(): void {
     this.videoJs_.deregisterPlugin('ssai');
   }
 
   private readonly handleSsaiClickThroughEvent_ = (): void => {
     this.sdkEventEmitter_.emit(SsaiEvents.ClickThrough, new SsaiClickThroughEvent());
   };
 }          
</code></pre></li>
<li><p>Implement Public API Methods</p>
  <pre class="line-numbers"><code class="language-TS" translate="No">public getRelativeDuration(): number {
   return this.videoJsPlayerProvider_.safeAttemptOnVideoJsPlayer('getRelativeDuration', (player) => player.duration() as number);
 }
 
 public seekTimeRelative(seekTarget: number, preventAdSkips?: boolean): void {
   this.pluginProvider_.updateValue('seek', seekTarget, { preventAdSkips });
 }
 
 public getCurrentLinearAd(): LinearAd | null {
   return this.pluginProvider_.safeAttempt('getCurrentLinearAd');
 }
 
 public getRelativeTimelineState(): TimelineState | null {
   return this.pluginProvider_.safeAttempt('getRelativeTimelineState');
 }
 </code></pre>
</li>
        <!-- <li>
            <p>Import the Player (with UI) class from the Brightcove SDK.</p>
            <pre class="line-numbers"><code class="language-JS" translate="No">import { Player } from '@brightcove/web-sdk';
            </code></pre>
        </li>
        <li>
            <p>Import the ImaServerSide integration class from the Brightcove SDK.</p>
            <pre class="line-numbers"><code class="language-JS" translate="No">import { ImaServerSideIntegration } from '@brightcove/web-sdk/integrations/imaServerSide';
            </code></pre>
        </li>
        <li>
            <p>Import the ImaServerSide integration CSS from the Brightcove SDK.</p>
            <pre class="line-numbers"><code class="language-JS" translate="No">import '@brightcove/web-sdk/integrations/imaServerSide/styles.css';
            </code></pre>
        </li>
        <li>
            <p>Setup ima-client-side integration.</p>
            <pre class="line-numbers"><code class="language-JS" translate="No">Player.addImaServerSideIntegrationFactory(ImaServerSideIntegration);
            </code></pre>
        </li>
        <li>
            <p>Create and Configure the Player.</p>
            <pre class="line-numbers"><code class="language-JS" translate="No">const player = new Player();

player.updateConfiguration({
  brightcove: {
    accountId: 'your-account-id',
    auth: { policyKey: 'your-policy-key' }
  }
});
            </code></pre>
        </li>
        <li>
            <p>Attach a video element to the Player instance.</p>
            <pre class="line-numbers"><code class="language-JS" translate="No">const videoElement = document.querySelector('video');

player.attach(videoElement);
            </code></pre>
        </li>
        <li>
            <p>Listen to the SdkLoaded event and configure the ad integration using your specific ad tag URL provided by Google Ad Manager.</p>
            <pre class="line-numbers"><code class="language-JS" translate="No">player.one(Player.Event.Integration.ImaServerSide.SdkLoaded, ({ imaServerSideSdk }) => {
  const adTag = 'your-ad-tag-url';
  player.integrations.imaServerSide.adRequest(adTag);
});
            </code></pre>
        </li>
    </ol> -->
</section>
<section class="bcls-section">
    <h2 id="configuration-options">Configuration Options</h2> 
    <p>This section provides detailed information about the various configuration options available for Server-Side Ad Insertion (SSAI) when using the Web & Smart TV SDK.</p>
    <div class="table-responsive">
        <table class="bcls-table">
            <caption>SSAI Configuration Options</caption>
  <thead class="bcls-table__head">
    <tr>
      <th>Configuration Option</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody class="bcls-table__body">
    <tr>
      <td><code translate="no">hideOverlays</code></td>
      <td>boolean</td>
      <td>If true, the countdown timer and Learn More click-through overlays will not be shown while ads are playing.</td>
      <td>false</td>
    </tr>
    <tr>
      <td><code translate="no">timeout</code></td>
      <td>number</td>
      <td>The number of milliseconds after which an XHR to fetch a VMAP will time out.</td>
      <td>45000</td>
    </tr>
    <tr>
      <td><code translate="no">enableDiscontinuities</code></td>
      <td>boolean</td>
      <td>If true, request the video source with HLS discontinuities or DASH multiperiod. Only valid for VOD SSAI.</td>
      <td>true</td>
    </tr>
    <tr>
      <td><code translate="no">enableOm</code></td>
      <td>boolean</td>
      <td>If true (and the necessary Open Measurement SDK scripts are embedded), the plugin will use values from the omParams object to start an OM manager and create a new OM session client.</td>
      <td>false</td>
    </tr>
    <tr>
      <td><code translate="no">omParams</code></td>
      <td>OmConfiguration</td>
      <td>An object describing the required parameters for starting an Open Measurement session client and OM ad features.</td>
      <td>N/A</td>
    </tr>
    <tr>
      <td><code translate="no">vmapURLParams</code></td>
      <td>object</td>
      <td>An object containing the parameters for replacing arbitrary values in the VMAP source URL. <a target="_blank" href="https://apis.support.brightcove.com/ssai/getting-started/video-cloud-ssai-ad-config-api.html#URL_variables">See</a>
        <aside class="bcls-aside bcls-aside--tip">Note: Object keys can have any name. The name of this variable must match the VMAP source URL param string or else it will not be replaced.</aside>
    </td>
      <td>{}</td>
    </tr>
  </tbody>
        </table>
    </div>
</section>

</article>
